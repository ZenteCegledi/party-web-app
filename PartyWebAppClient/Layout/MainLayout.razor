@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject IUserService UserService

<FluentLayout>
    <FluentHeader>
        <a href="/" style="color: unset; text-decoration: none;">PartyWebApp</a>
        <FluentSpacer />
        <AuthorizeView>
            <NotAuthorized>
                <FluentAnchor Href="/signin" IconStart="@(new Icons.Regular.Size16.PersonArrowRight())">
                    Sign In
                </FluentAnchor>
            </NotAuthorized>
            <Authorized>
                <FluentAnchor Href="/dashboard" IconStart="@(new Icons.Regular.Size16.Home())">
                    Dashboard
                </FluentAnchor>
                <FluentButton Style="margin-left: 8px" IconStart="@(new Icons.Regular.Size16.DoorArrowLeft())"
                    OnClick="async () => await SignOutAsync()">
                    Sign Out
                </FluentButton>
            </Authorized>
        </AuthorizeView>
    </FluentHeader>
    @* <FluentStack Class="main" Orientation="Orientation.Horizontal" Width="100%"> *@
    <FluentBodyContent Class="body-content">
        <div class="content">
            @Body
        </div>
    </FluentBodyContent>
    @* </FluentStack> *@

    <FluentToastProvider MaxToastCount="6" />
</FluentLayout>

@code {
    private async Task SignOutAsync()
    {
        await UserService.SignOutAsync();
        NavigationManager.NavigateTo("/", true);
    }
}